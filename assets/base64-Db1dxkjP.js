import{r as f,d as q,w as F,E as R,G as c,N as h,x,a1 as e,K as d,L as v,a as E,a6 as M,u as s,a3 as H,a5 as L}from"./@vue-1j5V9ATP.js";import{b as N}from"./vue-router-BhiBZbuw.js";import{i as D,q as S}from"./@ionic-BlOSn4K8.js";import{a as U}from"./index-DSS_-KSe.js";import"./@stencil-aO5Kz_I1.js";import"./@capacitor-71twbG14.js";import"./ionicons-BNaAj5CL.js";import"./gun-CAGFU2fD.js";import"./crypto-js-DmjU-BZd.js";import"./crypto-browserify-C9XFfT4E.js";import"./randombytes-DQl30_EW.js";import"./safe-buffer-Dz9_wJWQ.js";import"./buffer-CVOZ7zW9.js";import"./base64-js-DRz5BQNA.js";import"./ieee754-vIlwft-x.js";import"./create-hash-B063_hpA.js";import"./inherits-BICa84dG.js";import"./md5.js-B29Dc_Nx.js";import"./readable-stream-C5Rk_es1.js";import"./events-DQ172AOg.js";import"./asn1.js-oxGS5Nmj.js";import"./bn.js-DD1nT_11.js";import"./minimalistic-assert-OF9c2MWr.js";import"./util-deprecate-CEVJdCkT.js";import"./ripemd160-DaNrfoId.js";import"./sha.js-Dogc97cV.js";import"./cipher-base-eSATX2QK.js";import"./string_decoder-Ctm-PuQo.js";import"./create-hmac-trouak1Q.js";import"./browserify-sign-MyTigHY5.js";import"./process-nextick-args-hr2U_nH5.js";import"./core-util-is-BN-cVg0g.js";import"./browserify-rsa-UkMojkMi.js";import"./elliptic-Bqt5Hn4D.js";import"./minimalistic-crypto-utils-DpWPKLSp.js";import"./brorand-CHF3owTL.js";import"./hash.js-BBtLUDa5.js";import"./hmac-drbg-D0HEHpYb.js";import"./parse-asn1-Cz04GAcF.js";import"./evp_bytestokey-DjgKyOqD.js";import"./browserify-aes-D3s62Asp.js";import"./buffer-xor-B2N0t8YZ.js";import"./pbkdf2-DJi29hWC.js";import"./browserify-cipher-CgPgGKGD.js";import"./browserify-des-BcTqHZxs.js";import"./des.js--dPkMxQq.js";import"./diffie-hellman-CqgX2C0K.js";import"./miller-rabin-BP8PCMFw.js";import"./create-ecdh-CisUcwV7.js";import"./public-encrypt-ROujJhDd.js";import"./randomfill-xIMceVq4.js";import"./@vueuse-DWU7OkD5.js";import"./qrcode-cp1lJVLl.js";import"./dijkstrajs-C00ieaqj.js";import"./gun-avatar-BI4cJ9zF.js";import"./three-D9mDydWL.js";import"./uuid-BToUZ8VQ.js";import"./vue3-carousel-BbCZQx5h.js";import"./@capacitor-community-MIMArbib.js";import"./@zxing-CCBFSrSi.js";import"./ts-custom-error-DySZk_Wu.js";import"./dayjs-DbHR3-9z.js";import"./lodash-EBmjWABo.js";import"./pinyin-pro-BQzG8Xr9.js";import"./capacitor-voice-recorder-B3Tk3spu.js";import"./capacitor-blob-writer-As5Z23wW.js";import"./get-blob-duration-D6d9I7jF.js";import"./vue-i18n-cP7Khmb0.js";import"./@intlify-DKlaEl5K.js";import"./marked-DnqeYqt2.js";import"./dompurify-CQxFTTsi.js";import"./highlight.js-Ba2Af6Ij.js";import"./rxjs-C652p1j6.js";import"./tslib-HUEVnuZl.js";import"./pinia-ARKsHCGx.js";import"./webrtc-adapter-D1TIcEE-.js";import"./jeep-sqlite-DSwqUCw4.js";import"./vue-virtual-scroller-BMh6d78O.js";import"./vue-resize-C5R6-A0N.js";import"./vue-observe-visibility-DwEHa27i.js";import"./vue-lazyload-Cucoqqf2.js";import"./vue-image-lightbox-BMNpmAvl.js";import"./vue3-photo-preview-zkowI1gh.js";function A(){const m=f(""),i=f(null),u=r=>new Promise((a,l)=>{if(!r.type.startsWith("image/")){i.value="only support image file",l(new Error("only support image file"));return}const o=new FileReader;o.onload=()=>{m.value=o.result,i.value=null,a()},o.onerror=()=>{i.value="image read failed",l(new Error("image read failed"))},o.readAsDataURL(r)}),b=async r=>{const a=r.target;if(!a.files||a.files.length===0){i.value="no file selected";return}const l=a.files[0];try{await u(l)}catch(o){console.error(o)}},w=r=>{g(r)?(m.value=r,i.value=null):(i.value="invalid Base64 image string",m.value="")},g=r=>/^data:image\/(jpeg|png|gif|bmp|webp);base64,/i.test(r);return{base64String:m,error:i,convertToBase64:u,handleFileInput:b,setBase64FromText:w,isValidBase64Image:g,clear:()=>{m.value="",i.value=null}}}const G={class:"image-to-base64-converter"},K={class:"content-wrapper"},O={class:"input-section"},W={class:"file-input-wrapper"},$=["disabled"],j={class:"input-section"},J=["disabled"],Q={key:0,class:"error-text"},X={key:1,class:"output-section"},Y={class:"output-wrapper"},Z=["value"],tt=["disabled"],et={key:2,class:"preview-section"},ot={class:"image-wrapper"},it=["src"],st=["disabled"],rt={key:0,class:"fullscreen-loader"},at=q({__name:"base64",setup(m){const{base64String:i,error:u,convertToBase64:b,setBase64FromText:w,isValidBase64Image:g,clear:_}=A(),r=N(),a=f(null),l=f(""),o=f(!1),B=(p,t="success")=>{const n=document.createElement("ion-toast");return n.message=p,n.duration=2e3,n.position="bottom",n.cssClass="custom-toast ".concat(t),document.body.appendChild(n),n.present()},k=()=>{a.value&&!o.value&&a.value.click()},I=async p=>{const t=p.target;if(!t.files||t.files.length===0)return;const n=t.files[0];o.value=!0;try{await b(n),await new Promise(y=>setTimeout(y,1e3))}catch(y){console.error(y)}finally{o.value=!1,t&&(t.value="")}},C=async()=>{if(!o.value){o.value=!0;try{w(l.value.trim()),await new Promise(p=>setTimeout(p,1e3))}finally{o.value=!1}}},T=()=>{i.value&&!o.value&&navigator.clipboard.writeText(i.value).then(()=>{B("Base64 copied to clipboard","success")}).catch(()=>{B("Copy failed","error")})},V=()=>{o.value=!1},z=()=>{o.value||(o.value=!1,_())},P=()=>{r.go(-1)};return F(i,p=>{p!==l.value&&(l.value=p)}),(p,t)=>(c(),R(s(S),null,{default:h(()=>[x(s(D),{fullscreen:!0,class:"converter-content"},{default:h(()=>[e("div",G,[e("div",{class:"back-button-container"},[e("div",{class:"back-button",onClick:P},t[1]||(t[1]=[e("div",{class:"i-material-symbols-arrow-back-ios-new-rounded"},null,-1)]))]),e("div",K,[e("div",O,[t[3]||(t[3]=e("label",{class:"label"},"Upload Image",-1)),e("div",W,[e("input",{type:"file",id:"imageInput",accept:"image/*",ref_key:"fileInputRef",ref:a,onChange:I},null,544),e("button",{class:"modern-button upload-btn",onClick:k,disabled:o.value},t[2]||(t[2]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{d:"M12 2l-5.5 9h11zm0 2.83v6.17h2v-6.17zm-1 9.17h2v6h-2z"})],-1)]),8,$)])]),e("div",j,[t[4]||(t[4]=e("label",{class:"label"},"Base64 Input",-1)),E(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),placeholder:"Paste Base64 string here...",class:"liquid-textarea",onInput:C,disabled:o.value},null,40,J),[[M,l.value]])]),s(u)?(c(),d("p",Q,H(s(u)),1)):v("",!0),s(i)?(c(),d("div",X,[t[6]||(t[6]=e("label",{class:"label"},"Base64 Output",-1)),e("div",Y,[e("textarea",{value:s(i),readonly:"",class:"liquid-textarea output"},null,8,Z),e("button",{class:"modern-button copy-btn",onClick:T,disabled:o.value},t[5]||(t[5]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{d:"M16 1H4v16h2V3h10zm-1 4l6 6v10H8V5zm2 14h2v-6h-6v6h4z"})],-1)]),8,tt)])])):v("",!0),s(i)&&s(g)(s(i))?(c(),d("div",et,[t[7]||(t[7]=e("label",{class:"label"},"Preview",-1)),e("div",ot,[e("img",{src:s(i),alt:"Preview",class:"liquid-image",onLoad:V},null,40,it)])])):v("",!0),s(i)||s(u)?(c(),d("button",{key:3,class:"modern-button clear-btn",onClick:z,disabled:o.value},t[8]||(t[8]=[e("svg",{class:"icon",viewBox:"0 0 24 24"},[e("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]),8,st)):v("",!0)]),x(L,{name:"liquid-fade"},{default:h(()=>[o.value?(c(),d("div",rt,t[9]||(t[9]=[e("div",{class:"liquid-circle"},null,-1),e("div",{class:"liquid-circle delayed"},null,-1)]))):v("",!0)]),_:1}),t[10]||(t[10]=e("div",{class:"glow-circle glow-1"},null,-1)),t[11]||(t[11]=e("div",{class:"glow-circle glow-2"},null,-1)),t[12]||(t[12]=e("div",{class:"glow-circle glow-3"},null,-1))])]),_:1})]),_:1}))}}),He=U(at,[["__scopeId","data-v-77a3b0b6"]]);export{He as default};
//# sourceMappingURL=base64-Db1dxkjP.js.map
