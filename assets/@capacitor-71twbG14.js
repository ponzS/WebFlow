const te="modulepreload",ie=function(r){return"/"+r},W={},F=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(c=>{if(c=ie(c),c in W)return;W[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(c,'"]').concat(f)))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":te,d||(l.as="script"),l.crossOrigin="",l.href=c,o&&l.setAttribute("nonce",o),document.head.appendChild(l),d)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error("Unable to preload CSS for ".concat(c))))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var O;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(O||(O={}));class C extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const ne=r=>{var e,t;return r!=null&&r.androidBridge?"android":!((t=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},re=r=>{const e=r.CapacitorCustomPlatform||null,t=r.Capacitor||{},i=t.Plugins=t.Plugins||{},n=()=>e!==null?e.name:ne(r),s=()=>n()!=="web",a=l=>{const u=d.get(l);return!!(u!=null&&u.platforms.has(n())||o(l))},o=l=>{var u;return(u=t.PluginHeaders)===null||u===void 0?void 0:u.find(h=>h.name===l)},c=l=>r.console.error(l),d=new Map,f=(l,u={})=>{const h=d.get(l);if(h)return console.warn('Capacitor plugin "'.concat(l,'" already registered. Cannot register plugins twice.')),h.proxy;const p=n(),w=o(l);let m;const _=async()=>(!m&&p in u?m=typeof u[p]=="function"?m=await u[p]():m=u[p]:e!==null&&!m&&"web"in u&&(m=typeof u.web=="function"?m=await u.web():m=u.web),m),Z=(g,y)=>{var v,x;if(w){const S=w==null?void 0:w.methods.find(b=>y===b.name);if(S)return S.rtype==="promise"?b=>t.nativePromise(l,y.toString(),b):(b,I)=>t.nativeCallback(l,y.toString(),b,I);if(g)return(v=g[y])===null||v===void 0?void 0:v.bind(g)}else{if(g)return(x=g[y])===null||x===void 0?void 0:x.bind(g);throw new C('"'.concat(l,'" plugin is not implemented on ').concat(p),O.Unimplemented)}},N=g=>{let y;const v=(...x)=>{const S=_().then(b=>{const I=Z(b,g);if(I){const U=I(...x);return y=U==null?void 0:U.remove,U}else throw new C('"'.concat(l,".").concat(g,'()" is not implemented on ').concat(p),O.Unimplemented)});return g==="addListener"&&(S.remove=async()=>y()),S};return v.toString=()=>"".concat(g.toString(),"() { [capacitor code] }"),Object.defineProperty(v,"name",{value:g,writable:!1,configurable:!1}),v},B=N("addListener"),$=N("removeListener"),ee=(g,y)=>{const v=B({eventName:g},y),x=async()=>{const b=await v;$({eventName:g,callbackId:b},y)},S=new Promise(b=>v.then(()=>b({remove:x})));return S.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await x()},S},k=new Proxy({},{get(g,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?ee:B;case"removeListener":return $;default:return N(y)}}});return i[l]=k,d.set(l,{name:l,proxy:k,platforms:new Set([...Object.keys(u),...w?[p]:[]])}),k};return t.convertFileSrc||(t.convertFileSrc=l=>l),t.getPlatform=n,t.handleError=c,t.isNativePlatform=s,t.isPluginAvailable=a,t.registerPlugin=f,t.Exception=C,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},se=r=>r.Capacitor=re(r),j=se(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:{}),P=j.registerPlugin;class E{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(t);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),i&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,t);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,i){const n=this.listeners[e];if(!n){if(i){let s=this.retainedEventArguments[e];s||(s=[]),s.push(t),this.retainedEventArguments[e]=s}return}n.forEach(s=>s(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new j.Exception(e,O.Unimplemented)}unavailable(e="not available"){return new j.Exception(e,O.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const n=i.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(i=>{this.notifyListeners(e,i)}))}}const V=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ae extends E{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[n,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=M(n).trim(),s=M(s).trim(),t[n]=s}),t}async setCookie(e){try{const t=V(e.key),i=V(e.value),n="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(i||"").concat(n,"; path=").concat(s,"; ").concat(a,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}P("CapacitorCookies",{web:()=>new ae});const oe=async r=>new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{const n=i.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},i.onerror=n=>t(n),i.readAsDataURL(r)}),ce=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(n=>n.toLocaleLowerCase()).reduce((n,s,a)=>(n[s]=r[e[a]],n),{})},de=(r,e=!0)=>r?Object.entries(r).reduce((i,n)=>{const[s,a]=n;let o,c;return Array.isArray(a)?(c="",a.forEach(d=>{o=e?encodeURIComponent(d):d,c+="".concat(s,"=").concat(o,"&")}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c="".concat(s,"=").concat(o)),"".concat(i,"&").concat(c)},"").substr(1):null,Y=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),n=ce(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(n.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(r.data||{}))s.set(a,o);t.body=s.toString()}else if(n.includes("multipart/form-data")||r.data instanceof FormData){const s=new FormData;if(r.data instanceof FormData)r.data.forEach((o,c)=>{s.append(c,o)});else for(const o of Object.keys(r.data))s.append(o,r.data[o]);t.body=s;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(n.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t};class le extends E{async request(e){const t=Y(e,e.webFetchExtra),i=de(e.params,e.shouldEncodeUrlParams),n=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(n,t),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let c,d;switch(o){case"arraybuffer":case"blob":d=await s.blob(),c=await oe(d);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const f={};return s.headers.forEach((l,u)=>{f[u]=l}),{data:c,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}P("CapacitorHttp",{web:()=>new le});var H;(function(r){r.Documents="DOCUMENTS",r.Data="DATA",r.Library="LIBRARY",r.Cache="CACHE",r.External="EXTERNAL",r.ExternalStorage="EXTERNAL_STORAGE"})(H||(H={}));var q;(function(r){r.UTF8="utf8",r.ASCII="ascii",r.UTF16="utf16"})(q||(q={}));const xe=P("Filesystem",{web:()=>F(()=>Promise.resolve().then(()=>fe),void 0).then(r=>new r.FilesystemWeb)});var R;(function(r){r.Heavy="HEAVY",r.Medium="MEDIUM",r.Light="LIGHT"})(R||(R={}));var T;(function(r){r.Success="SUCCESS",r.Warning="WARNING",r.Error="ERROR"})(T||(T={}));const Se=P("Haptics",{web:()=>F(()=>Promise.resolve().then(()=>we),void 0).then(r=>new r.HapticsWeb)});var L;(function(r){r.Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS"})(L||(L={}));var A;(function(r){r.Rear="REAR",r.Front="FRONT"})(A||(A={}));var z;(function(r){r.Uri="uri",r.Base64="base64",r.DataUrl="dataUrl"})(z||(z={}));class ue extends E{async getPhoto(e){return new Promise(async(t,i)=>{if(e.webUseInput||e.source===L.Photos)this.fileInputExperience(e,t,i);else if(e.source===L.Prompt){let n=document.querySelector("pwa-action-sheet");n||(n=document.createElement("pwa-action-sheet"),document.body.appendChild(n)),n.header=e.promptLabelHeader||"Photo",n.cancelable=!1,n.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],n.addEventListener("onSelection",async s=>{s.detail===0?this.fileInputExperience(e,t,i):this.cameraExperience(e,t,i)})}else this.cameraExperience(e,t,i)})}async pickImages(e){return new Promise(async(t,i)=>{this.multipleFileInputExperience(t,i)})}async cameraExperience(e,t,i){if(customElements.get("pwa-camera-modal")){const n=document.createElement("pwa-camera-modal");n.facingMode=e.direction===A.Front?"user":"environment",document.body.appendChild(n);try{await n.componentOnReady(),n.addEventListener("onPhoto",async s=>{const a=s.detail;a===null?i(new C("User cancelled photos app")):a instanceof Error?i(a):t(await this._getCameraPhoto(a,e)),n.dismiss(),document.body.removeChild(n)}),n.present()}catch(s){this.fileInputExperience(e,t,i)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,i)}fileInputExperience(e,t,i){let n=document.querySelector("#_capacitor-camera-input");const s=()=>{var a;(a=n.parentNode)===null||a===void 0||a.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input",n.type="file",n.hidden=!0,document.body.appendChild(n),n.addEventListener("change",a=>{const o=n.files[0];let c="jpeg";if(o.type==="image/png"?c="png":o.type==="image/gif"&&(c="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const d=new FileReader;d.addEventListener("load",()=>{if(e.resultType==="dataUrl")t({dataUrl:d.result,format:c});else if(e.resultType==="base64"){const f=d.result.split(",")[1];t({base64String:f,format:c})}s()}),d.readAsDataURL(o)}else t({webPath:URL.createObjectURL(o),format:c}),s()}),n.addEventListener("cancel",a=>{i(new C("User cancelled photos app")),s()})),n.accept="image/*",n.capture=!0,e.source===L.Photos||e.source===L.Prompt?n.removeAttribute("capture"):e.direction===A.Front?n.capture="user":e.direction===A.Rear&&(n.capture="environment"),n.click()}multipleFileInputExperience(e,t){let i=document.querySelector("#_capacitor-camera-input-multiple");const n=()=>{var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input-multiple",i.type="file",i.hidden=!0,i.multiple=!0,document.body.appendChild(i),i.addEventListener("change",s=>{const a=[];for(let o=0;o<i.files.length;o++){const c=i.files[o];let d="jpeg";c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),a.push({webPath:URL.createObjectURL(c),format:d})}e({photos:a}),n()}),i.addEventListener("cancel",s=>{t(new C("User cancelled photos app")),n()})),i.accept="image/*",i.click()}_getCameraPhoto(e,t){return new Promise((i,n)=>{const s=new FileReader,a=e.type.split("/")[1];t.resultType==="uri"?i({webPath:URL.createObjectURL(e),format:a,saved:!1}):(s.readAsDataURL(e),s.onloadend=()=>{const o=s.result;t.resultType==="dataUrl"?i({dataUrl:o,format:a,saved:!1}):i({base64String:o.split(",")[1],format:a,saved:!1})},s.onerror=o=>{n(o)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const _e=P("Camera",{web:()=>new ue}),Le=P("Browser",{web:()=>F(()=>Promise.resolve().then(()=>ge),void 0).then(r=>new r.BrowserWeb)}),Ce=P("Device",{web:()=>F(()=>Promise.resolve().then(()=>be),void 0).then(r=>new r.DeviceWeb)});var K;(function(r){r.Dark="DARK",r.Light="LIGHT",r.Default="DEFAULT"})(K||(K={}));var G;(function(r){r.Body="body",r.Ionic="ionic",r.Native="native",r.None="none"})(G||(G={}));const Oe=P("Keyboard");function X(r){const e=r.split("/").filter(i=>i!=="."),t=[];return e.forEach(i=>{i===".."&&t.length>0&&t[t.length-1]!==".."?t.pop():t.push(i)}),t.join("/")}function he(r,e){r=X(r),e=X(e);const t=r.split("/"),i=e.split("/");return r!==e&&t.every((n,s)=>n===i[s])}class D extends E{constructor(){super(...arguments),this.DB_VERSION=1,this.DB_NAME="Disc",this._writeCmds=["add","put","delete"],this.downloadFile=async e=>{var t,i;const n=Y(e,e.webFetchExtra),s=await fetch(e.url,n);let a;if(!e.progress)a=await s.blob();else if(!(s!=null&&s.body))a=new Blob;else{const c=s.body.getReader();let d=0;const f=[],l=s.headers.get("content-type"),u=parseInt(s.headers.get("content-length")||"0",10);for(;;){const{done:w,value:m}=await c.read();if(w)break;f.push(m),d+=(m==null?void 0:m.length)||0;const _={url:e.url,bytes:d,contentLength:u};this.notifyListeners("progress",_)}const h=new Uint8Array(d);let p=0;for(const w of f)typeof w>"u"||(h.set(w,p),p+=w.length);a=new Blob([h.buffer],{type:l||void 0})}return{path:(await this.writeFile({path:e.path,directory:(t=e.directory)!==null&&t!==void 0?t:void 0,recursive:(i=e.recursive)!==null&&i!==void 0?i:!1,data:a})).uri,blob:a}}}async initDb(){if(this._db!==void 0)return this._db;if(!("indexedDB"in window))throw this.unavailable("This browser doesn't support IndexedDB");return new Promise((e,t)=>{const i=indexedDB.open(this.DB_NAME,this.DB_VERSION);i.onupgradeneeded=D.doUpgrade,i.onsuccess=()=>{this._db=i.result,e(i.result)},i.onerror=()=>t(i.error),i.onblocked=()=>{console.warn("db blocked")}})}static doUpgrade(e){const i=e.target.result;switch(e.oldVersion){case 0:case 1:default:i.objectStoreNames.contains("FileStorage")&&i.deleteObjectStore("FileStorage"),i.createObjectStore("FileStorage",{keyPath:"path"}).createIndex("by_folder","folder")}}async dbRequest(e,t){const i=this._writeCmds.indexOf(e)!==-1?"readwrite":"readonly";return this.initDb().then(n=>new Promise((s,a)=>{const d=n.transaction(["FileStorage"],i).objectStore("FileStorage")[e](...t);d.onsuccess=()=>s(d.result),d.onerror=()=>a(d.error)}))}async dbIndexRequest(e,t,i){const n=this._writeCmds.indexOf(t)!==-1?"readwrite":"readonly";return this.initDb().then(s=>new Promise((a,o)=>{const l=s.transaction(["FileStorage"],n).objectStore("FileStorage").index(e)[t](...i);l.onsuccess=()=>a(l.result),l.onerror=()=>o(l.error)}))}getPath(e,t){const i=t!==void 0?t.replace(/^[/]+|[/]+$/g,""):"";let n="";return e!==void 0&&(n+="/"+e),t!==""&&(n+="/"+i),n}async clear(){(await this.initDb()).transaction(["FileStorage"],"readwrite").objectStore("FileStorage").clear()}async readFile(e){const t=this.getPath(e.directory,e.path),i=await this.dbRequest("get",[t]);if(i===void 0)throw Error("File does not exist.");return{data:i.content?i.content:""}}async writeFile(e){const t=this.getPath(e.directory,e.path);let i=e.data;const n=e.encoding,s=e.recursive,a=await this.dbRequest("get",[t]);if(a&&a.type==="directory")throw Error("The supplied path is a directory.");const o=t.substr(0,t.lastIndexOf("/"));if(await this.dbRequest("get",[o])===void 0){const l=o.indexOf("/",1);if(l!==-1){const u=o.substr(l);await this.mkdir({path:u,directory:e.directory,recursive:s})}}if(!n&&!(i instanceof Blob)&&(i=i.indexOf(",")>=0?i.split(",")[1]:i,!this.isBase64String(i)))throw Error("The supplied data is not valid base64 content.");const d=Date.now(),f={path:t,folder:o,type:"file",size:i instanceof Blob?i.size:i.length,ctime:d,mtime:d,content:i};return await this.dbRequest("put",[f]),{uri:f.path}}async appendFile(e){const t=this.getPath(e.directory,e.path);let i=e.data;const n=e.encoding,s=t.substr(0,t.lastIndexOf("/")),a=Date.now();let o=a;const c=await this.dbRequest("get",[t]);if(c&&c.type==="directory")throw Error("The supplied path is a directory.");if(await this.dbRequest("get",[s])===void 0){const l=s.indexOf("/",1);if(l!==-1){const u=s.substr(l);await this.mkdir({path:u,directory:e.directory,recursive:!0})}}if(!n&&!this.isBase64String(i))throw Error("The supplied data is not valid base64 content.");if(c!==void 0){if(c.content instanceof Blob)throw Error("The occupied entry contains a Blob object which cannot be appended to.");c.content!==void 0&&!n?i=btoa(atob(c.content)+atob(i)):i=c.content+i,o=c.ctime}const f={path:t,folder:s,type:"file",size:i.length,ctime:o,mtime:a,content:i};await this.dbRequest("put",[f])}async deleteFile(e){const t=this.getPath(e.directory,e.path);if(await this.dbRequest("get",[t])===void 0)throw Error("File does not exist.");if((await this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])).length!==0)throw Error("Folder is not empty.");await this.dbRequest("delete",[t])}async mkdir(e){const t=this.getPath(e.directory,e.path),i=e.recursive,n=t.substr(0,t.lastIndexOf("/")),s=(t.match(/\//g)||[]).length,a=await this.dbRequest("get",[n]),o=await this.dbRequest("get",[t]);if(s===1)throw Error("Cannot create Root directory");if(o!==void 0)throw Error("Current directory does already exist.");if(!i&&s!==2&&a===void 0)throw Error("Parent directory must exist");if(i&&s!==2&&a===void 0){const f=n.substr(n.indexOf("/",1));await this.mkdir({path:f,directory:e.directory,recursive:i})}const c=Date.now(),d={path:t,folder:n,type:"directory",size:0,ctime:c,mtime:c};await this.dbRequest("put",[d])}async rmdir(e){const{path:t,directory:i,recursive:n}=e,s=this.getPath(i,t),a=await this.dbRequest("get",[s]);if(a===void 0)throw Error("Folder does not exist.");if(a.type!=="directory")throw Error("Requested path is not a directory");const o=await this.readdir({path:t,directory:i});if(o.files.length!==0&&!n)throw Error("Folder is not empty");for(const c of o.files){const d="".concat(t,"/").concat(c.name);(await this.stat({path:d,directory:i})).type==="file"?await this.deleteFile({path:d,directory:i}):await this.rmdir({path:d,directory:i,recursive:n})}await this.dbRequest("delete",[s])}async readdir(e){const t=this.getPath(e.directory,e.path),i=await this.dbRequest("get",[t]);if(e.path!==""&&i===void 0)throw Error("Folder does not exist.");const n=await this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)]);return{files:await Promise.all(n.map(async a=>{let o=await this.dbRequest("get",[a]);return o===void 0&&(o=await this.dbRequest("get",[a+"/"])),{name:a.substring(t.length+1),type:o.type,size:o.size,ctime:o.ctime,mtime:o.mtime,uri:o.path}}))}}async getUri(e){const t=this.getPath(e.directory,e.path);let i=await this.dbRequest("get",[t]);return i===void 0&&(i=await this.dbRequest("get",[t+"/"])),{uri:(i==null?void 0:i.path)||t}}async stat(e){const t=this.getPath(e.directory,e.path);let i=await this.dbRequest("get",[t]);if(i===void 0&&(i=await this.dbRequest("get",[t+"/"])),i===void 0)throw Error("Entry does not exist.");return{type:i.type,size:i.size,ctime:i.ctime,mtime:i.mtime,uri:i.path}}async rename(e){await this._copy(e,!0)}async copy(e){return this._copy(e,!1)}async requestPermissions(){return{publicStorage:"granted"}}async checkPermissions(){return{publicStorage:"granted"}}async _copy(e,t=!1){let{toDirectory:i}=e;const{to:n,from:s,directory:a}=e;if(!n||!s)throw Error("Both to and from must be provided");i||(i=a);const o=this.getPath(a,s),c=this.getPath(i,n);if(o===c)return{uri:c};if(he(o,c))throw Error("To path cannot contain the from path");let d;try{d=await this.stat({path:n,directory:i})}catch(h){const p=n.split("/");p.pop();const w=p.join("/");if(p.length>0&&(await this.stat({path:w,directory:i})).type!=="directory")throw new Error("Parent directory of the to path is a file")}if(d&&d.type==="directory")throw new Error("Cannot overwrite a directory with a file");const f=await this.stat({path:s,directory:a}),l=async(h,p,w)=>{const m=this.getPath(i,h),_=await this.dbRequest("get",[m]);_.ctime=p,_.mtime=w,await this.dbRequest("put",[_])},u=f.ctime?f.ctime:Date.now();switch(f.type){case"file":{const h=await this.readFile({path:s,directory:a});t&&await this.deleteFile({path:s,directory:a});let p;!(h.data instanceof Blob)&&!this.isBase64String(h.data)&&(p=q.UTF8);const w=await this.writeFile({path:n,directory:i,data:h.data,encoding:p});return t&&await l(n,u,f.mtime),w}case"directory":{if(d)throw Error("Cannot move a directory over an existing object");try{await this.mkdir({path:n,directory:i,recursive:!1}),t&&await l(n,u,f.mtime)}catch(p){}const h=(await this.readdir({path:s,directory:a})).files;for(const p of h)await this._copy({from:"".concat(s,"/").concat(p.name),to:"".concat(n,"/").concat(p.name),directory:a,toDirectory:i},t);t&&await this.rmdir({path:s,directory:a})}}return{uri:c}}isBase64String(e){try{return btoa(atob(e))==e}catch(t){return!1}}}D._debug=!0;const fe=Object.freeze(Object.defineProperty({__proto__:null,FilesystemWeb:D},Symbol.toStringTag,{value:"Module"}));class pe extends E{constructor(){super(...arguments),this.selectionStarted=!1}async impact(e){const t=this.patternForImpact(e==null?void 0:e.style);this.vibrateWithPattern(t)}async notification(e){const t=this.patternForNotification(e==null?void 0:e.type);this.vibrateWithPattern(t)}async vibrate(e){const t=(e==null?void 0:e.duration)||300;this.vibrateWithPattern([t])}async selectionStart(){this.selectionStarted=!0}async selectionChanged(){this.selectionStarted&&this.vibrateWithPattern([70])}async selectionEnd(){this.selectionStarted=!1}patternForImpact(e=R.Heavy){return e===R.Medium?[43]:e===R.Light?[20]:[61]}patternForNotification(e=T.Success){return e===T.Warning?[30,40,30,50,60]:e===T.Error?[27,45,50]:[35,65,21]}vibrateWithPattern(e){if(navigator.vibrate)navigator.vibrate(e);else throw this.unavailable("Browser does not support the vibrate API")}}const we=Object.freeze(Object.defineProperty({__proto__:null,HapticsWeb:pe},Symbol.toStringTag,{value:"Module"}));class Q extends E{constructor(){super(),this._lastWindow=null}async open(e){this._lastWindow=window.open(e.url,e.windowName||"_blank")}async close(){return new Promise((e,t)=>{this._lastWindow!=null?(this._lastWindow.close(),this._lastWindow=null,e()):t("No active window to close!")})}}const me=new Q,ge=Object.freeze(Object.defineProperty({__proto__:null,Browser:me,BrowserWeb:Q},Symbol.toStringTag,{value:"Module"}));class ye extends E{async getId(){return{identifier:this.getUid()}}async getInfo(){if(typeof navigator>"u"||!navigator.userAgent)throw this.unavailable("Device API not available in this browser");const e=navigator.userAgent,t=this.parseUa(e);return{model:t.model,platform:"web",operatingSystem:t.operatingSystem,osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:!1,webViewVersion:t.browserVersion}}async getBatteryInfo(){if(typeof navigator>"u"||!navigator.getBattery)throw this.unavailable("Device API not available in this browser");let e={};try{e=await navigator.getBattery()}catch(t){}return{batteryLevel:e.level,isCharging:e.charging}}async getLanguageCode(){return{value:navigator.language.split("-")[0].toLowerCase()}}async getLanguageTag(){return{value:navigator.language}}parseUa(e){const t={},i=e.indexOf("(")+1;let n=e.indexOf(") AppleWebKit");e.indexOf(") Gecko")!==-1&&(n=e.indexOf(") Gecko"));const s=e.substring(i,n);if(e.indexOf("Android")!==-1){const h=s.replace("; wv","").split("; ").pop();h&&(t.model=h.split(" Build")[0]),t.osVersion=s.split("; ")[1]}else if(t.model=s.split("; ")[0],typeof navigator<"u"&&navigator.oscpu)t.osVersion=navigator.oscpu;else if(e.indexOf("Windows")!==-1)t.osVersion=s;else{const h=s.split("; ").pop();if(h){const p=h.replace(" like Mac OS X","").split(" ");t.osVersion=p[p.length-1].replace(/_/g,".")}}/android/i.test(e)?t.operatingSystem="android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?t.operatingSystem="ios":/Win/.test(e)?t.operatingSystem="windows":/Mac/i.test(e)?t.operatingSystem="mac":t.operatingSystem="unknown";const a=!!window.ApplePaySession,o=!!window.chrome,c=/Firefox/.test(e),d=/Edg/.test(e),f=/FxiOS/.test(e),l=/CriOS/.test(e),u=/EdgiOS/.test(e);if(a||o&&!d||f||l||u){let h;f?h="FxiOS":l?h="CriOS":u?h="EdgiOS":a?h="Version":h="Chrome";const p=e.split(" ");for(const w of p)if(w.includes(h)){const m=w.split("/")[1];t.browserVersion=m}}else if(c||d){const w=e.split("").reverse().join("").split("/")[0].split("").reverse().join("");t.browserVersion=w}return t}getUid(){if(typeof window<"u"&&window.localStorage){let e=window.localStorage.getItem("_capuid");return e||(e=this.uuid4(),window.localStorage.setItem("_capuid",e),e)}return this.uuid4()}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}}const be=Object.freeze(Object.defineProperty({__proto__:null,DeviceWeb:ye},Symbol.toStringTag,{value:"Module"}));var J;(function(r){r[r.Sunday=1]="Sunday",r[r.Monday=2]="Monday",r[r.Tuesday=3]="Tuesday",r[r.Wednesday=4]="Wednesday",r[r.Thursday=5]="Thursday",r[r.Friday=6]="Friday",r[r.Saturday=7]="Saturday"})(J||(J={}));const Re=P("LocalNotifications",{web:()=>F(()=>Promise.resolve().then(()=>Ee),void 0).then(r=>new r.LocalNotificationsWeb)});class ve extends E{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const t=await(await fetch(e.image)).blob(),i=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([i])}catch(t){throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),t=e[0].types[0],i=await e[0].getType(t);return{value:await this._getBlobData(i,t),type:t}}catch(e){return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise((i,n)=>{const s=new FileReader;t.includes("image")?s.readAsDataURL(e):s.readAsText(e),s.onloadend=()=>{const a=s.result;i(a)},s.onerror=a=>{n(a)}})}}const Te=P("Clipboard",{web:()=>new ve});class Pe extends E{constructor(){super(...arguments),this.pending=[],this.deliveredNotifications=[],this.hasNotificationSupport=()=>{if(!("Notification"in window)||!Notification.requestPermission)return!1;if(Notification.permission!=="granted")try{new Notification("")}catch(e){if(e.name=="TypeError")return!1}return!0}}async getDeliveredNotifications(){const e=[];for(const t of this.deliveredNotifications){const i={title:t.title,id:parseInt(t.tag),body:t.body};e.push(i)}return{notifications:e}}async removeDeliveredNotifications(e){for(const t of e.notifications){const i=this.deliveredNotifications.find(n=>n.tag===String(t.id));i==null||i.close(),this.deliveredNotifications=this.deliveredNotifications.filter(()=>!i)}}async removeAllDeliveredNotifications(){for(const e of this.deliveredNotifications)e.close();this.deliveredNotifications=[]}async createChannel(){throw this.unimplemented("Not implemented on web.")}async deleteChannel(){throw this.unimplemented("Not implemented on web.")}async listChannels(){throw this.unimplemented("Not implemented on web.")}async schedule(e){if(!this.hasNotificationSupport())throw this.unavailable("Notifications not supported in this browser.");for(const t of e.notifications)this.sendNotification(t);return{notifications:e.notifications.map(t=>({id:t.id}))}}async getPending(){return{notifications:this.pending}}async registerActionTypes(){throw this.unimplemented("Not implemented on web.")}async cancel(e){this.pending=this.pending.filter(t=>!e.notifications.find(i=>i.id===t.id))}async areEnabled(){const{display:e}=await this.checkPermissions();return{value:e==="granted"}}async changeExactNotificationSetting(){throw this.unimplemented("Not implemented on web.")}async checkExactNotificationSetting(){throw this.unimplemented("Not implemented on web.")}async requestPermissions(){if(!this.hasNotificationSupport())throw this.unavailable("Notifications not supported in this browser.");return{display:this.transformNotificationPermission(await Notification.requestPermission())}}async checkPermissions(){if(!this.hasNotificationSupport())throw this.unavailable("Notifications not supported in this browser.");return{display:this.transformNotificationPermission(Notification.permission)}}transformNotificationPermission(e){switch(e){case"granted":return"granted";case"denied":return"denied";default:return"prompt"}}sendPending(){var e;const t=[],i=new Date().getTime();for(const n of this.pending)!((e=n.schedule)===null||e===void 0)&&e.at&&n.schedule.at.getTime()<=i&&(this.buildNotification(n),t.push(n));this.pending=this.pending.filter(n=>!t.find(s=>s===n))}sendNotification(e){var t;if(!((t=e.schedule)===null||t===void 0)&&t.at){const i=e.schedule.at.getTime()-new Date().getTime();this.pending.push(e),setTimeout(()=>{this.sendPending()},i);return}this.buildNotification(e)}buildNotification(e){const t=new Notification(e.title,{body:e.body,tag:String(e.id)});return t.addEventListener("click",this.onClick.bind(this,e),!1),t.addEventListener("show",this.onShow.bind(this,e),!1),t.addEventListener("close",()=>{this.deliveredNotifications=this.deliveredNotifications.filter(()=>!this)},!1),this.deliveredNotifications.push(t),t}onClick(e){const t={actionId:"tap",notification:e};this.notifyListeners("localNotificationActionPerformed",t)}onShow(e){this.notifyListeners("localNotificationReceived",e)}}const Ee=Object.freeze(Object.defineProperty({__proto__:null,LocalNotificationsWeb:Pe},Symbol.toStringTag,{value:"Module"}));export{Le as B,j as C,H as D,q as E,xe as F,Se as H,R as I,Oe as K,Re as L,E as W,F as _,G as a,Te as b,_e as c,L as d,z as e,Ce as f,P as r};
//# sourceMappingURL=@capacitor-71twbG14.js.map
