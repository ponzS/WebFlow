{"version":3,"file":"blackList-a11nxB4A.js","sources":["../../src/pages/blackList.vue"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header :translucent=\"true\" collapse=\"fade\">\n      <ion-toolbar class=\"liquid-toolbar\">\n        <ion-buttons slot=\"start\">\n          <ion-back-button color=\"dark\"></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{ $t('blacklist') }}</ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\" class=\"liquid-content\">\n      <div class=\"input-section\">\n        <ion-item class=\"liquid-input-item\" lines=\"none\">\n          <ion-label position=\"floating\">PubKey</ion-label>\n          <ion-input v-model=\"blockPub\" :placeholder=\"$t('enterPublicKey')\"></ion-input>\n        </ion-item>\n        <div class=\"button-group\">\n          <ion-button expand=\"block\" color=\"dark\" @click=\"addToBlacklist\">\n            {{ $t('addblacklist') }}\n          </ion-button>\n          <ion-button expand=\"block\" color=\"dark\" @click=\"removeFromBlacklist\">\n            {{ $t('deleteblacklist') }}\n          </ion-button>\n        </div>\n      </div>\n\n      <div class=\"list-section\">\n        <h4 class=\"section-subtitle\">{{ $t('myblacklist') }}</h4>\n        <ion-list v-if=\"blacklist.length > 0\" class=\"blacklist-list\">\n          <ion-item\n            v-for=\"p in blacklist\"\n            :key=\"p\"\n            class=\"list-item\"\n            button\n            @click=\"copyPub(p)\"\n            lines=\"full\"\n          >\n            <ion-label class=\"public-key\">{{ p }}</ion-label>\n            <ion-button slot=\"end\" color=\"danger\" @click.stop=\"removeFromBlacklist(p)\" >\n              {{ $t('deleteblacklist') }}\n            </ion-button>\n          </ion-item>\n        </ion-list>\n        <ion-text v-else class=\"empty-message\">{{ $t('noBlacklistMembers') }}</ion-text>\n      </div>\n\n      <!-- Toast for Copy Feedback -->\n      <ion-toast\n        :is-open=\"toastOpen\"\n        :message=\"$t('pubKeyCopied')\"\n        :duration=\"1500\"\n        position=\"bottom\"\n        @didDismiss=\"toastOpen = false\"\n      ></ion-toast>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport { getTalkFlowCore } from '@/composables/TalkFlowCore';\nimport { useRouter } from 'vue-router';\nimport {\n  IonPage, IonHeader, IonToolbar, IonButtons, IonBackButton, IonTitle, IonContent, IonItem, IonLabel,\n  IonInput, IonButton, IonList, IonToast, IonText,\n} from '@ionic/vue';\nconst chatFlowStore = getTalkFlowCore();\nconst router = useRouter();\nconst toastOpen = ref(false);\n\nconst {\n  copyPub: originalCopyPub,\n  blockPub,\n  blacklist,\n  isInMyBlacklist,\n  addToBlacklist: storeAddToBlacklist,\n  removeFromBlacklist: storeRemoveFromBlacklist,\n} = chatFlowStore;\n\nconst addToBlacklist = () => {\n  if (blockPub.value.trim()) {\n    storeAddToBlacklist();\n  }\n};\n\nconst removeFromBlacklist = (pubKey?: string) => {\n  if (pubKey) {\n    storeRemoveFromBlacklist(pubKey);\n  } else if (blockPub.value.trim()) {\n    storeRemoveFromBlacklist();\n  }\n};\n\nconst copyPub = async (pub: string) => {\n  await originalCopyPub(pub);\n  toastOpen.value = true; // Show toast on copy\n};\n\nconst goBackToPrevious = () => {\n  router.go(-1);\n};\n</script>\n\n<style scoped>\n/* Liquid Toolbar */\n.liquid-toolbar {\n  --border-color: transparent;\n\n}\n\n/* Liquid Content */\n.liquid-content {\n\n  --padding-top: 30px;\n  --padding-bottom: 20px;\n  --padding-start: 20px;\n  --padding-end: 20px;\n}\n\n/* Input Section */\n.input-section {\n  max-width: 600px;\n  margin: 0 auto 32px auto;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n/* Input Item */\n.liquid-input-item {\n  --background: rgba(130, 130, 130, 0.25);\n  --border-radius: 15px;\n  --padding-start: 15px;\n  --padding-end: 15px;\n  margin-bottom: 10px;\n  border-radius: 20px;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.liquid-input-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n}\n\n.liquid-input-item ion-label {\n\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n\n\n/* Button Group */\n.button-group {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n\n\n/* List Section */\n.list-section {\n  max-width: 600px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.section-subtitle {\n  font-size: 1.25rem;\n  \n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  text-align: center;\n}\n\n.blacklist-list {\n  --background: rgba(255, 255, 255, 0.1);\n  border-radius: 15px;\n  padding: 8px;\n}\n\n.list-item {\n  --background: transparent;\n  --padding-start: 15px;\n  --padding-end: 15px;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.list-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n}\n\n.public-key {\n\n  font-size: 1rem;\n  word-break: break-all;\n}\n\n.remove-button {\n  --border-radius: 12px;\n  font-size: 0.9rem;\n  height: 36px;\n}\n\n.empty-message {\n  text-align: center;\n\n  font-size: 1rem;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n</style>"],"names":["chatFlowStore","getTalkFlowCore","useRouter","toastOpen","ref","originalCopyPub","blockPub","blacklist","isInMyBlacklist","storeAddToBlacklist","storeRemoveFromBlacklist","addToBlacklist","removeFromBlacklist","pubKey","copyPub","pub"],"mappings":"wnGAmEA,MAAMA,EAAgBC,EAAgB,EACvBC,EAAU,EACnB,MAAAC,EAAYC,EAAI,EAAK,EAErB,CACJ,QAASC,EACT,SAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,eAAgBC,EAChB,oBAAqBC,CAAA,EACnBV,EAEEW,EAAiB,IAAM,CACvBL,EAAS,MAAM,QACGG,EAAA,CAExB,EAEMG,EAAuBC,GAAoB,CAC3CA,EACFH,EAAyBG,CAAM,EACtBP,EAAS,MAAM,QACCI,EAAA,CAE7B,EAEMI,EAAU,MAAOC,GAAgB,CACrC,MAAMV,EAAgBU,CAAG,EACzBZ,EAAU,MAAQ,EACpB"}